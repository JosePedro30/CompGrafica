<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ex3</title>
</head>
<body>

    <canvas id="canvas" width="300" height="250" style="border:solid 1px green">
        Your browser does not support HTML5 Canvas.
    </canvas>

    <script>
        // Starting at the Canvas center,  move a circle (1 pixel at each time) within the Canvas limits, using the four arrow keys. Allow for multiple keys  detection, meaning that if user presses simultaneously  arrows UP and LEFT,  the circle should  move diagonally.
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");

        var x = canvas.width / 2;
        var y = canvas.height / 2;
        var dx = 0;
        var dy = 0;
        var radius = 10;

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.arc(x, y, radius, 0, Math.PI * 2);
            ctx.fillStyle = "red";
            ctx.fill();
            ctx.closePath();
        }

        function keyDownHandler(e) {
            if (e.keyCode == 39) {
                dx = 1;
            } else if (e.keyCode == 37) {
                dx = -1;
            } else if (e.keyCode == 38) {
                dy = -1;
            } else if (e.keyCode == 40) {
                dy = 1;
            }
        }

        function keyUpHandler(e) {
            if (e.keyCode == 39 || e.keyCode == 37) {
                dx = 0;
            } else if (e.keyCode == 38 || e.keyCode == 40) {
                dy = 0;
            }
        }

        function move() {
            x += dx;
            y += dy;
        }

        function update() {
            draw();
            move();
        }

        document.addEventListener("keydown", keyDownHandler, false);
        document.addEventListener("keyup", keyUpHandler, false);

        setInterval(update, 10);
    </script>

</body>
</html>